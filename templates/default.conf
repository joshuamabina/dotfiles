<VirtualHost *:80>
	Define APP_NAME app_name

	Define SERVER_NAME  ${APP_NAME}.local
	Define SERVER_ALIAS www.${SERVER_NAME}

	Define PROJECT_DIR  /var/www/${SERVER_NAME}

	ServerName  ${SERVER_NAME}
	ServerAlias ${SERVER_ALIAS}
	ServerAdmin webmaster@localhost

	DocumentRoot /var/www/${SERVER_NAME}/public
	<Directory /var/www/${SERVER_NAME}/public/>
		#Options +FollowSymLinks
		AllowOverride All

		<IfVersion >= 2.3>
			Require all granted
		</IfVersion>
		<IfVersion < 2.3>
			Order allow,deny
			Allow from all
		</IfVersion>
	</Directory>

        <FilesMatch \.php$>
            # 2.4.10+ can proxy to unix socket
            SetHandler "proxy:unix:/var/run/php5-fpm.sock|fcgi://localhost/"

            #Else we can just use a tcp socket:
            #SetHandler "proxy:fcgi://127.0.0.1:9000"
        </FilesMatch>

	ErrorLog  ${APACHE_LOG_DIR}/${APP_NAME}-error.log

	CustomLog ${APACHE_LOG_DIR}/${APP_NAME}-access.log combined
</VirtualHost>

